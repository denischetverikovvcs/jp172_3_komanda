<!DOCTYPE html>
<html lang="en">

<head>
	<title>Bookstore</title>
	<meta charset="utf-8">
	<meta name="author" content="Denis Chetverikov, Ernesta Duglas, Rasa Valanciunaite, Renata Stasiulionyte, Redas Peskaitis">
	<meta name="description" content="In this website you can buy most famous books from UK, USA, Australia, India and other countries.">

	<!-- To be added link to CSS:  -->
	<link href="css/style.css" rel="stylesheet">
	<!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <![endif]-->

	<!--Required for stars rating and for menu icons:-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body onload="index()">
	<!--Top black bar:-->
	<header class="top">
		<div id="name">
			<p><i class="fa fa-book menu-icon" aria-hidden="true"></i>Book Store</p>
		</div>
		<div class="headermenu">
			<ul class="topmenu">
				<!-- Links to be added:-->
				<li><a href="#">Help Center</a></li>
				<li><a href="#">Our Support</a></li>
				<li ><a href="login.html" id="replace">Login <i class="fa fa-check-circle " aria-hidden="true"></i></a>
					<!--Place for drop down.
					<ul class="topdown">
					</ul>
-->
				</li>
                <li id="logout" style="visibility: hidden" onclick="logout()"> <a href="#">Logout</a></li>
			</ul>
		</div>
		<script src="js/login.js"></script>

	</header>

	<!--Left side bar:-->
	<nav class="sidenav">
		<div class="navmenu">
			<ul class="mainmenu">
				<!-- Links to be added:-->
				<li><a href="#"><i class="fa fa-globe menu-icon" aria-hidden="true"></i>Browse</a></li>
				<li><a href="#"><i class="fa fa-shopping-cart menu-icon" aria-hidden="true"></i>Buy Books</a></li>
				<li><a href="#"><i class="fa fa-star menu-icon" aria-hidden="true"></i>Favourite Books</a></li>
				<li><a href="#"><i class="fa fa-th-list menu-icon" aria-hidden="true"></i>Wishlist</a></li>
			</ul>
		</div>
	</nav>

	<main>
		<!--Top grey part:-->

		<h2 id="browse">Browse Available Books</h2>
		<div class="toppart">
			<ul class="inlinemenu">
				<!-- Nuorodos paruoÅ¡tos, bet dar kol kas niekur neveda-->
				<li><a href="#">All Books</a></li>
				<li><a href="#">Most Recent</a></li>
				<li><a href="#">Most Popular</a></li>
				<li><a href="#">Free Books</a></li>
			</ul>
			<!--Search field. (Possible solution to use relative/absolute for magnifying glass):-->
			<div class="search-container">

				<span class="fa fa-search"></span>
				<input placeholder="Enter Keywords">


			</div>

		</div>

		<!--Books part:-->
    <div id="listBook">
    </div>
	</main>

	<footer>
		<!--Footer part:-->
		<!--        Bubbles:-->
		<div class="cont" id=" container">
			<button class="w3-button w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
			<div class="object1" id="one"></div>
			<div class="object2" id="two"></div>
			<div class="object3" id="three"></div>


			<button class="w3-button w3-display-right" onclick="plusDivs(+1)">&#10095;</button>
		</div>
		<!--       Other:-->

		<ul class="help">
			<li><a href="#"><i class="fa fa-question-circle" aria-hidden="true"></i></a></li>
			<li><a href="#"><i class="fa fa-cog" aria-hidden="true"></i></a>
				<!--place for down-top menu of settings
				<ul class="downtop">
					 
				</ul>
-->
			</li>
		</ul>
	</footer>
  <script src="js/react.js"></script>
  <script src="js/react-dom.js"></script>
  <script src="js/babel.js"></script>
  <script src="js/bookList.js"></script>
  <!-- <script src="js/bookListGen.js" type="text/babel"></script> -->
  <script type="text/babel">
    function Star(props) {
      var itemId = "star" + props.id;
      return (
        <div>
          <input type="radio" id={itemId} name="rating" value={props.value} />
          <label htmlFor={itemId}></label>
        </div>
      );
    }

    function StarList(props) {
      const starNums = Array.apply(null, {length: props.rating}).map((x, y) => y + 1);
      const listItems = starNums.map((number) =>
        <Star key={number.toString()} id={number.toString()}
                  value={number} />
      );
      return (
        <div className="rating">
          {listItems}
        </div>
      );
    }

    function Book(props) {
      var itemId = `book${props.id}`;
      var imgName = `${props.image}`;
      var imgFile = `images/${props.image}`;
      return (
        <div className="book" id={itemId}>
          <a href="#"><img src={imgFile} alt={imgName}/></a>
          <p className="bookName"><a href="#">{props.name}</a></p>
          <p>by <a href="#">{props.author}</a></p>
          <StarList rating={props.rating} />
        </div>
      );
    }


    function BookList(props) {
      const listItems = props.books.map((book) =>
        <Book
          key={book.id.toString()}
          id={book.id} 
          name={book.name} 
          author={book.author} 
          image={book.image} 
          rating={book.rating} />
      );
      return (
        <div className="wholeblock">
          {listItems}
        </div>
      );
    }


    function run() {
      ReactDOM.render(
        <BookList books={bookList} />, 
        document.getElementById("booklist")
      );
    }

    const loadedStates = ['complete', 'loaded', 'interactive'];

    if (loadedStates.includes(document.readyState) && document.body) {
      run();
    } else {
      window.addEventListener('DOMContentLoaded', run, false);
    }

  </script>
</body>

</html>
